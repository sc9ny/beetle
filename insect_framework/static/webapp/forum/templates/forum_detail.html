<div class="spaced-content" flex>
  <md-card class="max-length-content" layout="column" layout-align="center center"
    ng-if="!$ctrl.currentForum.$resolved" style="height:500px;">
    <md-progress-circular></md-progress-circular>
  </md-card>
  <md-card flex class="max-length-content" ng-if="$ctrl.currentForum.$resolved">
    <md-card-header layout="row">
      <md-card-header-text>
        <div class="md-title">{{$ctrl.currentForum.title}}</div>

        <div class="md-subhead">
          <i class="far fa-user" style="font-size:14px;"></i>
            By {{$ctrl.currentForum.author}}
        </div>
      </md-card-header-text>
      <div class="md-subhead">
        {{$ctrl.currentForum.created | date:'MM/dd/yyyy'}}
        <md-button class="md-icon-button" aria-label="edit"
          href="/forum/update/{{$ctrl.currentForum.id}}/"
          style="top:13px;">
          <i style="font-size:14px;" class="far fa-edit"></i>
        </md-button>
      </div>
    </md-card-header>
    <md-card-content class="overflow-text fit-picture">
      <ng-bind-html ng-bind-html="$ctrl.currentForum.content"></ng-bind-html>
    <md-card-content>
    <md-list class="comment-list">
      <i class="fas fa-comment-alt"></i> Comments
      <md-divider style="margin-top: 20px;"></md-divider>
      <md-list-item class="md-2-line" ng-repeat="comment in $ctrl.currentForum.comments">
        <div flex layout="column" layout-align="center start">
          <div>{{comment.author}} </div>
          <div> {{comment.created| date:"MM/dd/yyyy" }} </div>
        </div>
        <div flex="85" style="overflow: hidden; word-wrap: break-word;">
          {{comment.content}}
        </div>
        <md-divider></md-divider>
      </md-list-item>
    </md-list>
    <form name="commentForm" style="margin-top: 20px;">
      <md-card>
        <div style="margin: 30px;">
        <md-input-container style="width:100%;">
            <label> Write your comment here </label>
            <textarea ng-model=$ctrl.commentText aria-label="commentText" placeholder="What's in your mind?">
            </textarea>
          </md-input-container>
          <md-button ng-click="$ctrl.submitComment()" flex="10" class="simple-button">
            Submit
          </md-button>
        </div>
      </md-card>
    </form>
  </md-card>
</div>
